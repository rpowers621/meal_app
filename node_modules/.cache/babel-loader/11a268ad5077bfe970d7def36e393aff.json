{"ast":null,"code":"var getState=function getState(_ref){var getStore=_ref.getStore,getActions=_ref.getActions,setStore=_ref.setStore;return{store:{message:null,demo:[{title:\"FIRST\",background:\"white\",initial:\"white\"},{title:\"SECOND\",background:\"white\",initial:\"white\"}]},actions:{// Use getActions to call a function within a fuction\nexampleFunction:function exampleFunction(){getActions().changeColor(0,\"green\");},getMessage:function getMessage(){// fetching data from the backend\nfetch(process.env.BACKEND_URL+\"/api/hello\").then(function(resp){return resp.json();}).then(function(data){return setStore({message:data.message});}).catch(function(error){return console.log(\"Error loading message from backend\",error);});},changeColor:function changeColor(index,color){//get the store\nvar store=getStore();//we have to loop the entire demo array to look for the respective index\n//and change its color\nvar demo=store.demo.map(function(elm,i){if(i===index)elm.background=color;return elm;});//reset the global store\nsetStore({demo:demo});}}};};export default getState;","map":{"version":3,"sources":["/home/adithyazure/meal_app/src/Store/flux.js"],"names":["getState","getStore","getActions","setStore","store","message","demo","title","background","initial","actions","exampleFunction","changeColor","getMessage","fetch","process","env","BACKEND_URL","then","resp","json","data","catch","error","console","log","index","color","map","elm","i"],"mappings":"AAAA,GAAMA,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,MAAwC,IAArCC,CAAAA,QAAqC,MAArCA,QAAqC,CAA3BC,UAA2B,MAA3BA,UAA2B,CAAfC,QAAe,MAAfA,QAAe,CACxD,MAAO,CACNC,KAAK,CAAE,CACNC,OAAO,CAAE,IADH,CAENC,IAAI,CAAE,CACL,CACCC,KAAK,CAAE,OADR,CAECC,UAAU,CAAE,OAFb,CAGCC,OAAO,CAAE,OAHV,CADK,CAML,CACCF,KAAK,CAAE,QADR,CAECC,UAAU,CAAE,OAFb,CAGCC,OAAO,CAAE,OAHV,CANK,CAFA,CADD,CAgBNC,OAAO,CAAE,CACR;AACAC,eAAe,CAAE,0BAAM,CACtBT,UAAU,GAAGU,WAAb,CAAyB,CAAzB,CAA4B,OAA5B,EACA,CAJO,CAMRC,UAAU,CAAE,qBAAM,CACjB;AACAC,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,WAAZ,CAA0B,YAA3B,CAAL,CACEC,IADF,CACO,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,IAAL,EAAJ,EADX,EAEEF,IAFF,CAEO,SAAAG,IAAI,QAAIlB,CAAAA,QAAQ,CAAC,CAAEE,OAAO,CAAEgB,IAAI,CAAChB,OAAhB,CAAD,CAAZ,EAFX,EAGEiB,KAHF,CAGQ,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ,CAAkDF,KAAlD,CAAJ,EAHb,EAIA,CAZO,CAaRX,WAAW,CAAE,qBAACc,KAAD,CAAQC,KAAR,CAAkB,CAC9B;AACA,GAAMvB,CAAAA,KAAK,CAAGH,QAAQ,EAAtB,CAEA;AACA;AACA,GAAMK,CAAAA,IAAI,CAAGF,KAAK,CAACE,IAAN,CAAWsB,GAAX,CAAe,SAACC,GAAD,CAAMC,CAAN,CAAY,CACvC,GAAIA,CAAC,GAAKJ,KAAV,CAAiBG,GAAG,CAACrB,UAAJ,CAAiBmB,KAAjB,CACjB,MAAOE,CAAAA,GAAP,CACA,CAHY,CAAb,CAKA;AACA1B,QAAQ,CAAC,CAAEG,IAAI,CAAEA,IAAR,CAAD,CAAR,CACA,CA1BO,CAhBH,CAAP,CA6CA,CA9CD,CAgDA,cAAeN,CAAAA,QAAf","sourcesContent":["const getState = ({ getStore, getActions, setStore }) => {\n\treturn {\n\t\tstore: {\n\t\t\tmessage: null,\n\t\t\tdemo: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"FIRST\",\n\t\t\t\t\tbackground: \"white\",\n\t\t\t\t\tinitial: \"white\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"SECOND\",\n\t\t\t\t\tbackground: \"white\",\n\t\t\t\t\tinitial: \"white\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\tactions: {\n\t\t\t// Use getActions to call a function within a fuction\n\t\t\texampleFunction: () => {\n\t\t\t\tgetActions().changeColor(0, \"green\");\n\t\t\t},\n\n\t\t\tgetMessage: () => {\n\t\t\t\t// fetching data from the backend\n\t\t\t\tfetch(process.env.BACKEND_URL + \"/api/hello\")\n\t\t\t\t\t.then(resp => resp.json())\n\t\t\t\t\t.then(data => setStore({ message: data.message }))\n\t\t\t\t\t.catch(error => console.log(\"Error loading message from backend\", error));\n\t\t\t},\n\t\t\tchangeColor: (index, color) => {\n\t\t\t\t//get the store\n\t\t\t\tconst store = getStore();\n\n\t\t\t\t//we have to loop the entire demo array to look for the respective index\n\t\t\t\t//and change its color\n\t\t\t\tconst demo = store.demo.map((elm, i) => {\n\t\t\t\t\tif (i === index) elm.background = color;\n\t\t\t\t\treturn elm;\n\t\t\t\t});\n\n\t\t\t\t//reset the global store\n\t\t\t\tsetStore({ demo: demo });\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default getState;"]},"metadata":{},"sourceType":"module"}