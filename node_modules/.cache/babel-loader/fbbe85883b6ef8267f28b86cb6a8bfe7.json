{"ast":null,"code":"import _slicedToArray from\"/home/rpowers8/project_2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{GoogleLogin,GoogleLogout}from'react-google-login';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var clientId=process.env.REACT_APP_CLIENTID;console.log(clientId);function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setusername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),useremail=_useState4[0],setuseremail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userimage=_useState6[0],setuserimage=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),showloginButton=_useState8[0],setShowloginButton=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showlogoutButton=_useState10[0],setShowlogoutButton=_useState10[1];var onLoginSuccess=function onLoginSuccess(res){console.log('Login Success:',res.profileObj);setShowloginButton(false);setShowlogoutButton(true);setusername(res.profileObj.name);setuseremail(res.profileObj.email);setuserimage(res.profileObj.imageUrl);fetchEmail();};var onLoginFailure=function onLoginFailure(res){console.log('Login Failed:',res);};var onSignoutSuccess=function onSignoutSuccess(){alert(\"You have been logged out successfully\");console.clear();setShowloginButton(true);setShowlogoutButton(false);};function fetchEmail(){console.log(useremail);fetch(\"/\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({'email':useremail})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:userimage,atl:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:username}),/*#__PURE__*/_jsx(\"p\",{children:useremail})]}),showloginButton?/*#__PURE__*/_jsx(GoogleLogin,{clientId:clientId,buttonText:\"Sign In\",onSuccess:onLoginSuccess,onFailure:onLoginFailure,cookiePolicy:'single_host_origin',isSignedIn:true}):null,showlogoutButton?/*#__PURE__*/_jsx(GoogleLogout,{clientId:clientId,buttonText:\"Sign Out\",onLogoutSuccess:onSignoutSuccess}):null]});}export default Login;","map":{"version":3,"sources":["/home/rpowers8/project_2/src/Login.js"],"names":["React","useState","GoogleLogin","GoogleLogout","clientId","process","env","REACT_APP_CLIENTID","console","log","Login","username","setusername","useremail","setuseremail","userimage","setuserimage","showloginButton","setShowloginButton","showlogoutButton","setShowlogoutButton","onLoginSuccess","res","profileObj","name","email","imageUrl","fetchEmail","onLoginFailure","onSignoutSuccess","alert","clear","fetch","method","headers","body","JSON","stringify"],"mappings":"+IAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,CAAsBC,YAAtB,KAA0C,oBAA1C,C,wFACA,GAAMC,CAAAA,QAAQ,CAAGC,OAAO,CAACC,GAAR,CAAYC,kBAA7B,CACAC,OAAO,CAACC,GAAR,CAAYL,QAAZ,EAEA,QAASM,CAAAA,KAAT,EAAiB,CAGb,cAAgCT,QAAQ,CAAC,EAAD,CAAxC,wCAAOU,QAAP,eAAiBC,WAAjB,eACA,eAAkCX,QAAQ,CAAC,EAAD,CAA1C,yCAAOY,SAAP,eAAkBC,YAAlB,eACA,eAAkCb,QAAQ,CAAC,EAAD,CAA1C,yCAAOc,SAAP,eAAkBC,YAAlB,eAEA,eAA8Cf,QAAQ,CAAC,IAAD,CAAtD,yCAAOgB,eAAP,eAAwBC,kBAAxB,eACA,eAAgDjB,QAAQ,CAAC,KAAD,CAAxD,0CAAOkB,gBAAP,gBAAyBC,mBAAzB,gBACA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,GAAD,CAAS,CAC5Bd,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8Ba,GAAG,CAACC,UAAlC,EACAL,kBAAkB,CAAC,KAAD,CAAlB,CACAE,mBAAmB,CAAC,IAAD,CAAnB,CACAR,WAAW,CAACU,GAAG,CAACC,UAAJ,CAAeC,IAAhB,CAAX,CACAV,YAAY,CAACQ,GAAG,CAACC,UAAJ,CAAeE,KAAhB,CAAZ,CACAT,YAAY,CAACM,GAAG,CAACC,UAAJ,CAAeG,QAAhB,CAAZ,CACAC,UAAU,GACb,CARD,CAUA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACN,GAAD,CAAS,CAC5Bd,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6Ba,GAA7B,EACH,CAFD,CAIA,GAAMO,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC3BC,KAAK,CAAC,uCAAD,CAAL,CACAtB,OAAO,CAACuB,KAAR,GACAb,kBAAkB,CAAC,IAAD,CAAlB,CACAE,mBAAmB,CAAC,KAAD,CAAnB,CACH,CALD,CAOA,QAASO,CAAAA,UAAT,EAAqB,CACjBnB,OAAO,CAACC,GAAR,CAAYI,SAAZ,EACAmB,KAAK,CAAC,GAAD,CAAM,CACPC,MAAM,CAAE,MADD,CAEPC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFF,CAKPC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAgB,CAAC,QAASxB,SAAV,CAAhB,CALC,CAAN,CAAL,CAQH,CAED,mBACI,oCACI,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,GAAG,CAAEE,SAAV,CAAqB,GAAG,CAAC,EAAzB,EADJ,cAEI,mBAAIJ,QAAJ,EAFJ,cAGI,mBAAIE,SAAJ,EAHJ,GADJ,CAMMI,eAAe,cACb,KAAC,WAAD,EACI,QAAQ,CAAEb,QADd,CAEI,UAAU,CAAC,SAFf,CAGI,SAAS,CAAEiB,cAHf,CAII,SAAS,CAAEO,cAJf,CAKI,YAAY,CAAE,oBALlB,CAMI,UAAU,CAAE,IANhB,EADa,CAQR,IAdb,CAgBMT,gBAAgB,cACd,KAAC,YAAD,EACI,QAAQ,CAAEf,QADd,CAEI,UAAU,CAAC,UAFf,CAGI,eAAe,CAAEyB,gBAHrB,EADc,CAMI,IAtB1B,GADJ,CA2BH,CACD,cAAenB,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react';\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\nconst clientId = process.env.REACT_APP_CLIENTID;\nconsole.log(clientId);\n\nfunction Login() {\n   \n\n    const [username, setusername] = useState(\"\");\n    const [useremail, setuseremail] = useState(\"\");\n    const [userimage, setuserimage] = useState(\"\");\n\n    const [showloginButton, setShowloginButton] = useState(true);\n    const [showlogoutButton, setShowlogoutButton] = useState(false);\n    const onLoginSuccess = (res) => {\n        console.log('Login Success:', res.profileObj);\n        setShowloginButton(false);\n        setShowlogoutButton(true);\n        setusername(res.profileObj.name);\n        setuseremail(res.profileObj.email);\n        setuserimage(res.profileObj.imageUrl);\n        fetchEmail();\n    };\n\n    const onLoginFailure = (res) => {\n        console.log('Login Failed:', res);\n    };\n\n    const onSignoutSuccess = () => {\n        alert(\"You have been logged out successfully\");\n        console.clear();\n        setShowloginButton(true);\n        setShowlogoutButton(false);\n    };\n\n    function fetchEmail(){\n        console.log(useremail);\n        fetch(\"/\", {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify( {'email': useremail}),\n          });\n   \n    }\n\n    return (\n        <div>\n            <div className=\"user-info\">\n                <img src={userimage} atl=\"\" />\n                <p>{username}</p>\n                <p>{useremail}</p>\n            </div>\n            { showloginButton ?\n                <GoogleLogin\n                    clientId={clientId}\n                    buttonText=\"Sign In\"\n                    onSuccess={onLoginSuccess}\n                    onFailure={onLoginFailure}\n                    cookiePolicy={'single_host_origin'}\n                    isSignedIn={true}\n                /> : null}\n\n            { showlogoutButton ?\n                <GoogleLogout\n                    clientId={clientId}\n                    buttonText=\"Sign Out\"\n                    onLogoutSuccess={onSignoutSuccess}\n                >\n                </GoogleLogout> : null\n            }\n        </div>\n    );\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}